<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    .fade-enter-active, .fade-leave-active{
        transition: opacity .5s, top .5s;
    }
    .fade-enter, .fade-leave-to{
        opacity: 0;
        top:10px;
    }
    .fade-enter-to, .fade-leave{
        opacity: 1;
        top:0;
    }
    span{
        margin:5px;
        position: relative;
    }
    </style>
    <script src="https://unpkg.com/vue@2.3.4/dist/vue.js"></script>

</head>
<body>
    <div id="app">
        <button @click='addItem'>Add</button><button @click='removeItem'>Remove</button><br/>
        
        <transition-group name='fade'>
            <span v-for='item in array' :key='item'>{{item}}</span>
        </transition-group>
    </div>
    <script>
        Vue.mixin({
            created:function(){
                console.log('created')
            }
        })
        var app=new Vue({
            el:'#app',
            data:{
                array:[1,2,3,4,5,6,7
            ]

            },
            methods:{
                addItem:async function(){
                    let insertIdx=Math.floor(Math.random()*this.array.length)
                    this.$set(this.array,this.array.length,this.array[length-1])
                    for(let j=this.array.length-1;j>insertIdx;j--){
                        this.array[j]=this.array[j-1]
                    }
                    this.$set(this.array,insertIdx,this.array.length)

                    //this.array.length++
                },
                removeItem:async function(){
                    console.log('remove called')
                    let idx=Math.floor(Math.random()*this.array.length)
                    this.array.splice(idx,1)
                }
            }

        })
    </script>
</body>
</html>
